(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const Ni=!1;var sn=Array.isArray,jl=Array.prototype.indexOf,Bn=Array.from,In=Object.defineProperty,St=Object.getOwnPropertyDescriptor,Bl=Object.getOwnPropertyDescriptors,Fl=Object.prototype,Hl=Array.prototype,Mi=Object.getPrototypeOf,ci=Object.isExtensible;function Zl(e){return e()}function Qt(e){for(var t=0;t<e.length;t++)e[t]()}function Ul(){var e,t,n=new Promise((i,r)=>{e=i,t=r});return{promise:n,resolve:e,reject:t}}const ae=2,Fn=4,ln=8,Ct=16,Ie=32,Qe=64,qi=128,ce=256,Vt=512,K=1024,fe=2048,Ce=4096,ve=8192,ut=16384,Hn=32768,Zn=65536,fi=1<<17,Gl=1<<18,Un=1<<19,Gn=1<<20,Cn=1<<21,Wn=1<<22,Fe=1<<23,qe=Symbol("$state"),Qn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Wl(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function Oi(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ql(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Vl(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Yl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Xl(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Kl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Jl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function ea(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ta(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const an=1,on=2,Di=4,na=8,ra=16,ia=1,sa=2,X=Symbol();function la(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let aa=!1;function ji(e){return e===this.v}function oa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Bi(e){return!oa(e,this.v)}let Pt=!1,ua=!1;function ca(){Pt=!0}let Z=null;function Yt(e){Z=e}function Fi(e,t=!1,n){Z={p:Z,c:null,e:null,s:e,x:null,l:Pt&&!t?{s:null,u:null,$:[]}:null}}function Hi(e){var t=Z,n=t.e;if(n!==null){t.e=null;for(var i of n)ls(i)}return Z=t.p,{}}function ct(){return!Pt||Z!==null&&Z.l===null}const fa=new WeakMap;function pa(e){var t=I;if(t===null)return C.f|=Fe,e;if((t.f&Hn)===0){if((t.f&qi)===0)throw!t.parent&&e instanceof Error&&Zi(e),e;t.b.error(e)}else Vn(e,t)}function Vn(e,t){for(;t!==null;){if((t.f&qi)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e instanceof Error&&Zi(e),e}function Zi(e){const t=fa.get(e);t&&(In(e,"message",{value:t.message}),In(e,"stack",{value:t.stack}))}let At=[],Pn=[];function Ui(){var e=At;At=[],Qt(e)}function ha(){var e=Pn;Pn=[],Qt(e)}function Yn(e){At.length===0&&queueMicrotask(Ui),At.push(e)}function da(){At.length>0&&Ui(),Pn.length>0&&ha()}function ga(){for(var e=I.b;e!==null&&!e.has_pending_snippet();)e=e.parent;return e===null&&Wl(),e}function Xn(e){var t=ae|fe,n=C!==null&&(C.f&ae)!==0?C:null;return I===null||n!==null&&(n.f&ce)!==0?t|=ce:I.f|=Un,{ctx:Z,deps:null,effects:null,equals:ji,f:t,fn:e,reactions:null,rv:0,v:X,wv:0,parent:n??I,ac:null}}function va(e,t){let n=I;n===null&&Ql();var i=n.b,r=void 0,s=Tt(X),l=null,a=!C;return za(()=>{try{var u=e()}catch(_){u=Promise.reject(_)}var c=()=>u;r=l?.then(c,c)??Promise.resolve(u),l=r;var p=j,h=i.pending;a&&(i.update_pending_count(1),h||p.increment());const d=(_,f=void 0)=>{l=null,h||p.activate(),f?f!==Qn&&(s.f|=Fe,ot(s,f)):((s.f&Fe)!==0&&(s.f^=Fe),ot(s,_)),a&&(i.update_pending_count(-1),h||p.decrement()),Vi()};if(r.then(d,_=>d(null,_||"unknown")),p)return()=>{queueMicrotask(()=>p.neuter())}}),new Promise(u=>{function c(p){function h(){p===r?u(s):c(r)}p.then(h,h)}c(r)})}function Gi(e){const t=Xn(e);return t.equals=Bi,t}function Wi(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)ze(t[n])}}function _a(e){for(var t=e.parent;t!==null;){if((t.f&ae)===0)return t;t=t.parent}return null}function Kn(e){var t,n=I;Oe(_a(e));try{Wi(e),t=ms(e)}finally{Oe(n)}return t}function Qi(e){var t=Kn(e);if(e.equals(t)||(e.v=t,e.wv=vs()),!ft)if(lt!==null)lt.set(e,e.v);else{var n=(Me||(e.f&ce)!==0)&&e.deps!==null?Ce:K;te(e,n)}}function ma(e,t,n){const i=ct()?Xn:Gi;if(t.length===0){n(e.map(i));return}var r=j,s=I,l=ba(),a=ga();Promise.all(t.map(u=>va(u))).then(u=>{r?.activate(),l();try{n([...e.map(i),...u])}catch(c){(s.f&ut)===0&&Vn(c,s)}r?.deactivate(),Vi()}).catch(u=>{a.error(u)})}function ba(){var e=I,t=C,n=Z;return function(){Oe(e),we(t),Yt(n)}}function Vi(){Oe(null),we(null),Yt(null)}const dt=new Set;let j=null,Ut=null,lt=null,pi=new Set,Xt=[];function Yi(){const e=Xt.shift();Xt.length>0&&queueMicrotask(Yi),e()}let Ue=[],un=null,Ln=!1,Gt=!1;class at{current=new Map;#i=new Map;#s=new Set;#e=0;#u=null;#c=!1;#n=[];#l=[];#r=[];#t=[];#a=[];#f=[];#p=[];skipped_effects=new Set;process(t){Ue=[],Ut=null;var n=null;if(dt.size>1){n=new Map,lt=new Map;for(const[s,l]of this.current)n.set(s,{v:s.v,wv:s.wv}),s.v=l;for(const s of dt)if(s!==this)for(const[l,a]of s.#i)n.has(l)||(n.set(l,{v:l.v,wv:l.wv}),l.v=a)}for(const s of t)this.#d(s);if(this.#n.length===0&&this.#e===0){this.#h();var i=this.#r,r=this.#t;this.#r=[],this.#t=[],this.#a=[],Ut=j,j=null,hi(i),hi(r),j===null?j=this:dt.delete(this),this.#u?.resolve()}else this.#o(this.#r),this.#o(this.#t),this.#o(this.#a);if(n){for(const[s,{v:l,wv:a}]of n)s.wv<=a&&(s.v=l);lt=null}for(const s of this.#n)st(s);for(const s of this.#l)st(s);this.#n=[],this.#l=[]}#d(t){t.f^=K;for(var n=t.first;n!==null;){var i=n.f,r=(i&(Ie|Qe))!==0,s=r&&(i&K)!==0,l=s||(i&ve)!==0||this.skipped_effects.has(n);if(!l&&n.fn!==null){if(r)n.f^=K;else if((i&K)===0)if((i&Fn)!==0)this.#t.push(n);else if((i&Wn)!==0){var a=n.b?.pending?this.#l:this.#n;a.push(n)}else Nt(n)&&((n.f&Ct)!==0&&this.#a.push(n),st(n));var u=n.first;if(u!==null){n=u;continue}}var c=n.parent;for(n=n.next;n===null&&c!==null;)n=c.next,c=c.parent}}#o(t){for(const n of t)((n.f&fe)!==0?this.#f:this.#p).push(n),te(n,K);t.length=0}capture(t,n){this.#i.has(t)||this.#i.set(t,n),this.current.set(t,t.v)}activate(){j=this}deactivate(){j=null,Ut=null;for(const t of pi)if(pi.delete(t),t(),j!==null)break}neuter(){this.#c=!0}flush(){Ue.length>0?Xi():this.#h(),j===this&&(this.#e===0&&dt.delete(this),this.deactivate())}#h(){if(!this.#c)for(const t of this.#s)t();this.#s.clear()}increment(){this.#e+=1}decrement(){if(this.#e-=1,this.#e===0){for(const t of this.#f)te(t,fe),Ge(t);for(const t of this.#p)te(t,Ce),Ge(t);this.#r=[],this.#t=[],this.flush()}else this.deactivate()}add_callback(t){this.#s.add(t)}settled(){return(this.#u??=Ul()).promise}static ensure(){if(j===null){const t=j=new at;dt.add(j),Gt||at.enqueue(()=>{j===t&&t.flush()})}return j}static enqueue(t){Xt.length===0&&queueMicrotask(Yi),Xt.unshift(t)}}function ka(e){var t=Gt;Gt=!0;try{for(var n;;){if(da(),Ue.length===0&&(j?.flush(),Ue.length===0))return un=null,n;Xi()}}finally{Gt=t}}function Xi(){var e=it;Ln=!0;try{var t=0;for(_i(!0);Ue.length>0;){var n=at.ensure();if(t++>1e3){var i,r;wa()}n.process(Ue),He.clear()}}finally{Ln=!1,_i(e),un=null}}function wa(){try{Kl()}catch(e){Vn(e,un)}}function hi(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var i=e[n++];if((i.f&(ut|ve))===0&&Nt(i)){var r=j?j.current.size:0;if(st(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?ps(i):i.fn=null),j!==null&&j.current.size>r&&(i.f&Gn)!==0)break}}for(;n<t;)Ge(e[n++])}}function Ge(e){for(var t=un=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ln&&t===I&&(n&Ct)!==0)return;if((n&(Qe|Ie))!==0){if((n&K)===0)return;t.f^=K}}Ue.push(t)}const He=new Map;function Tt(e,t){var n={f:0,v:e,reactions:null,equals:ji,rv:0,wv:0};return n}function Le(e,t){const n=Tt(e);return Pa(n),n}function P(e,t=!1,n=!0){const i=Tt(e);return t||(i.equals=Bi),Pt&&n&&Z!==null&&Z.l!==null&&(Z.l.s??=[]).push(i),i}function Ft(e,t){return A(e,F(()=>o(e))),t}function A(e,t,n=!1){C!==null&&(!ke||(C.f&fi)!==0)&&ct()&&(C.f&(ae|Ct|Wn|fi))!==0&&!Re?.includes(e)&&ta();let i=n?xt(t):t;return ot(e,i)}function ot(e,t){if(!e.equals(t)){var n=e.v;ft?He.set(e,t):He.set(e,n),e.v=t;var i=at.ensure();i.capture(e,n),(e.f&ae)!==0&&((e.f&fe)!==0&&Kn(e),te(e,(e.f&ce)===0?K:Ce)),e.wv=vs(),Ki(e,fe),ct()&&I!==null&&(I.f&K)!==0&&(I.f&(Ie|Qe))===0&&(ue===null?La([e]):ue.push(e))}return t}function En(e){A(e,e.v+1)}function Ki(e,t){var n=e.reactions;if(n!==null)for(var i=ct(),r=n.length,s=0;s<r;s++){var l=n[s],a=l.f;if(!(!i&&l===I)){var u=(a&fe)===0;u&&te(l,t),(a&ae)!==0?Ki(l,Ce):u&&Ge(l)}}}function xt(e){if(typeof e!="object"||e===null||qe in e)return e;const t=Mi(e);if(t!==Fl&&t!==Hl)return e;var n=new Map,i=sn(e),r=Le(0),s=Ze,l=a=>{if(Ze===s)return a();var u=C,c=Ze;we(null),bi(s);var p=a();return we(u),bi(c),p};return i&&n.set("length",Le(e.length)),new Proxy(e,{defineProperty(a,u,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&Jl();var p=n.get(u);return p===void 0?p=l(()=>{var h=Le(c.value);return n.set(u,h),h}):A(p,c.value,!0),!0},deleteProperty(a,u){var c=n.get(u);if(c===void 0){if(u in a){const p=l(()=>Le(X));n.set(u,p),En(r)}}else A(c,X),En(r);return!0},get(a,u,c){if(u===qe)return e;var p=n.get(u),h=u in a;if(p===void 0&&(!h||St(a,u)?.writable)&&(p=l(()=>{var _=xt(h?a[u]:X),f=Le(_);return f}),n.set(u,p)),p!==void 0){var d=o(p);return d===X?void 0:d}return Reflect.get(a,u,c)},getOwnPropertyDescriptor(a,u){var c=Reflect.getOwnPropertyDescriptor(a,u);if(c&&"value"in c){var p=n.get(u);p&&(c.value=o(p))}else if(c===void 0){var h=n.get(u),d=h?.v;if(h!==void 0&&d!==X)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return c},has(a,u){if(u===qe)return!0;var c=n.get(u),p=c!==void 0&&c.v!==X||Reflect.has(a,u);if(c!==void 0||I!==null&&(!p||St(a,u)?.writable)){c===void 0&&(c=l(()=>{var d=p?xt(a[u]):X,_=Le(d);return _}),n.set(u,c));var h=o(c);if(h===X)return!1}return p},set(a,u,c,p){var h=n.get(u),d=u in a;if(i&&u==="length")for(var _=c;_<h.v;_+=1){var f=n.get(_+"");f!==void 0?A(f,X):_ in a&&(f=l(()=>Le(X)),n.set(_+"",f))}if(h===void 0)(!d||St(a,u)?.writable)&&(h=l(()=>Le(void 0)),A(h,xt(c)),n.set(u,h));else{d=h.v!==X;var g=l(()=>xt(c));A(h,g)}var b=Reflect.getOwnPropertyDescriptor(a,u);if(b?.set&&b.set.call(p,c),!d){if(i&&typeof u=="string"){var y=n.get("length"),E=Number(u);Number.isInteger(E)&&E>=y.v&&A(y,E+1)}En(r)}return!0},ownKeys(a){o(r);var u=Reflect.ownKeys(a).filter(h=>{var d=n.get(h);return d===void 0||d.v!==X});for(var[c,p]of n)p.v!==X&&!(c in a)&&u.push(c);return u},setPrototypeOf(){ea()}})}function di(e){try{if(e!==null&&typeof e=="object"&&qe in e)return e[qe]}catch{}return e}function xa(e,t){return Object.is(di(e),di(t))}var gi,Ji,es,ts;function ya(){if(gi===void 0){gi=window,Ji=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;es=St(t,"firstChild").get,ts=St(t,"nextSibling").get,ci(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ci(n)&&(n.__t=void 0)}}function Lt(e=""){return document.createTextNode(e)}function Ne(e){return es.call(e)}function cn(e){return ts.call(e)}function w(e,t){return Ne(e)}function An(e,t){{var n=Ne(e);return n instanceof Comment&&n.data===""?cn(n):n}}function m(e,t=1,n=!1){let i=e;for(;t--;)i=cn(i);return i}function Sa(e){e.textContent=""}function ns(){return!1}let vi=!1;function $a(){vi||(vi=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function fn(e){var t=C,n=I;we(null),Oe(null);try{return e()}finally{we(t),Oe(n)}}function rs(e,t,n,i=n){e.addEventListener(t,()=>fn(n));const r=e.__on_r;r?e.__on_r=()=>{r(),i(!0)}:e.__on_r=()=>i(!0),$a()}function is(e){I===null&&C===null&&Xl(),C!==null&&(C.f&ce)!==0&&I===null&&Yl(),ft&&Vl()}function Ea(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function ye(e,t,n,i=!0){var r=I;r!==null&&(r.f&ve)!==0&&(e|=ve);var s={ctx:Z,deps:null,nodes_start:null,nodes_end:null,f:e|fe,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{st(s),s.f|=Hn}catch(u){throw ze(s),u}else t!==null&&Ge(s);var l=n&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&Un)===0;if(!l&&i&&(r!==null&&Ea(s,r),C!==null&&(C.f&ae)!==0&&(e&Qe)===0)){var a=C;(a.effects??=[]).push(s)}return s}function ss(e){const t=ye(ln,null,!1);return te(t,K),t.teardown=e,t}function Nn(e){is();var t=I.f,n=!C&&(t&Ie)!==0&&(t&Hn)===0;if(n){var i=Z;(i.e??=[]).push(e)}else return ls(e)}function ls(e){return ye(Fn|Gn,e,!1)}function Aa(e){return is(),ye(ln|Gn,e,!0)}function Ta(e){at.ensure();const t=ye(Qe,e,!0);return(n={})=>new Promise(i=>{n.outro?Jn(t,()=>{ze(t),i(void 0)}):(ze(t),i(void 0))})}function as(e){return ye(Fn,e,!1)}function B(e,t){var n=Z,i={effect:null,ran:!1,deps:e};n.l.$.push(i),i.effect=pn(()=>{e(),!i.ran&&(i.ran=!0,F(t))})}function Ra(){var e=Z;pn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&K)!==0&&te(n,Ce),Nt(n)&&st(n),t.ran=!1}})}function za(e){return ye(Wn|Un,e,!0)}function pn(e,t=0){return ye(ln|t,e,!0)}function ge(e,t=[],n=[]){ma(t,n,i=>{ye(ln,()=>e(...i.map(o)),!0)})}function os(e,t=0){var n=ye(Ct|t,e,!0);return n}function Rt(e,t=!0){return ye(Ie,e,!0,t)}function us(e){var t=e.teardown;if(t!==null){const n=ft,i=C;mi(!0),we(null);try{t.call(null)}finally{mi(n),we(i)}}}function cs(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&fn(()=>{r.abort(Qn)});var i=n.next;(n.f&Qe)!==0?n.parent=null:ze(n,t),n=i}}function Ia(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ie)===0&&ze(t),t=n}}function ze(e,t=!0){var n=!1;(t||(e.f&Gl)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(fs(e.nodes_start,e.nodes_end),n=!0),cs(e,t&&!n),Kt(e,0),te(e,ut);var i=e.transitions;if(i!==null)for(const s of i)s.stop();us(e);var r=e.parent;r!==null&&r.first!==null&&ps(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function fs(e,t){for(;e!==null;){var n=e===t?null:cn(e);e.remove(),e=n}}function ps(e){var t=e.parent,n=e.prev,i=e.next;n!==null&&(n.next=i),i!==null&&(i.prev=n),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=n))}function Jn(e,t){var n=[];er(e,n,!0),hs(n,()=>{ze(e),t&&t()})}function hs(e,t){var n=e.length;if(n>0){var i=()=>--n||t();for(var r of e)r.out(i)}else t()}function er(e,t,n){if((e.f&ve)===0){if(e.f^=ve,e.transitions!==null)for(const l of e.transitions)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var r=i.next,s=(i.f&Zn)!==0||(i.f&Ie)!==0;er(i,t,s?n:!1),i=r}}}function tr(e){ds(e,!0)}function ds(e,t){if((e.f&ve)!==0){e.f^=ve,(e.f&K)===0&&(te(e,fe),Ge(e));for(var n=e.first;n!==null;){var i=n.next,r=(n.f&Zn)!==0||(n.f&Ie)!==0;ds(n,r?t:!1),n=i}if(e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&s.in()}}let rt=null;function Ca(e){var t=rt;try{if(rt=new Set,F(e),t!==null)for(var n of rt)t.add(n);return rt}finally{rt=t}}function gt(e){for(var t of Ca(e))ot(t,t.v)}let it=!1;function _i(e){it=e}let ft=!1;function mi(e){ft=e}let C=null,ke=!1;function we(e){C=e}let I=null;function Oe(e){I=e}let Re=null;function Pa(e){C!==null&&(Re===null?Re=[e]:Re.push(e))}let J=null,le=0,ue=null;function La(e){ue=e}let gs=1,zt=0,Ze=zt;function bi(e){Ze=e}let Me=!1;function vs(){return++gs}function Nt(e){var t=e.f;if((t&fe)!==0)return!0;if((t&Ce)!==0){var n=e.deps,i=(t&ce)!==0;if(n!==null){var r,s,l=(t&Vt)!==0,a=i&&I!==null&&!Me,u=n.length;if((l||a)&&(I===null||(I.f&ut)===0)){var c=e,p=c.parent;for(r=0;r<u;r++)s=n[r],(l||!s?.reactions?.includes(c))&&(s.reactions??=[]).push(c);l&&(c.f^=Vt),a&&p!==null&&(p.f&ce)===0&&(c.f^=ce)}for(r=0;r<u;r++)if(s=n[r],Nt(s)&&Qi(s),s.wv>e.wv)return!0}(!i||I!==null&&!Me)&&te(e,K)}return!1}function _s(e,t,n=!0){var i=e.reactions;if(i!==null&&!Re?.includes(e))for(var r=0;r<i.length;r++){var s=i[r];(s.f&ae)!==0?_s(s,t,!1):t===s&&(n?te(s,fe):(s.f&K)!==0&&te(s,Ce),Ge(s))}}function ms(e){var t=J,n=le,i=ue,r=C,s=Me,l=Re,a=Z,u=ke,c=Ze,p=e.f;J=null,le=0,ue=null,Me=(p&ce)!==0&&(ke||!it||C===null),C=(p&(Ie|Qe))===0?e:null,Re=null,Yt(e.ctx),ke=!1,Ze=++zt,e.ac!==null&&(fn(()=>{e.ac.abort(Qn)}),e.ac=null);try{e.f|=Cn;var h=e.fn,d=h(),_=e.deps;if(J!==null){var f;if(Kt(e,le),_!==null&&le>0)for(_.length=le+J.length,f=0;f<J.length;f++)_[le+f]=J[f];else e.deps=_=J;if(!Me||(p&ae)!==0&&e.reactions!==null)for(f=le;f<_.length;f++)(_[f].reactions??=[]).push(e)}else _!==null&&le<_.length&&(Kt(e,le),_.length=le);if(ct()&&ue!==null&&!ke&&_!==null&&(e.f&(ae|Ce|fe))===0)for(f=0;f<ue.length;f++)_s(ue[f],e);return r!==null&&r!==e&&(zt++,ue!==null&&(i===null?i=ue:i.push(...ue))),(e.f&Fe)!==0&&(e.f^=Fe),d}catch(g){return pa(g)}finally{e.f^=Cn,J=t,le=n,ue=i,C=r,Me=s,Re=l,Yt(a),ke=u,Ze=c}}function Na(e,t){let n=t.reactions;if(n!==null){var i=jl.call(n,e);if(i!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[i]=n[r],n.pop())}}n===null&&(t.f&ae)!==0&&(J===null||!J.includes(t))&&(te(t,Ce),(t.f&(ce|Vt))===0&&(t.f^=Vt),Wi(t),Kt(t,0))}function Kt(e,t){var n=e.deps;if(n!==null)for(var i=t;i<n.length;i++)Na(e,n[i])}function st(e){var t=e.f;if((t&ut)===0){te(e,K);var n=I,i=it;I=e,it=!0;try{(t&Ct)!==0?Ia(e):cs(e),us(e);var r=ms(e);e.teardown=typeof r=="function"?r:null,e.wv=gs;var s;Ni&&ua&&(e.f&fe)!==0&&e.deps}finally{it=i,I=n}}}async function Je(){await Promise.resolve(),ka()}function o(e){var t=e.f,n=(t&ae)!==0;if(rt?.add(e),C!==null&&!ke){var i=I!==null&&(I.f&ut)!==0;if(!i&&!Re?.includes(e)){var r=C.deps;if((C.f&Cn)!==0)e.rv<zt&&(e.rv=zt,J===null&&r!==null&&r[le]===e?le++:J===null?J=[e]:(!Me||!J.includes(e))&&J.push(e));else{(C.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[C]:s.includes(C)||s.push(C)}}}else if(n&&e.deps===null&&e.effects===null){var l=e,a=l.parent;a!==null&&(a.f&ce)===0&&(l.f^=ce)}if(ft){if(He.has(e))return He.get(e);if(n){l=e;var u=l.v;return((l.f&K)===0&&l.reactions!==null||bs(l))&&(u=Kn(l)),He.set(l,u),u}}else if(n){if(l=e,lt?.has(l))return lt.get(l);Nt(l)&&Qi(l)}if((e.f&Fe)!==0)throw e.v;return e.v}function bs(e){if(e.v===X)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(He.has(t)||(t.f&ae)!==0&&bs(t))return!0;return!1}function F(e){var t=ke;try{return ke=!0,e()}finally{ke=t}}const Ma=-7169;function te(e,t){e.f=e.f&Ma|t}function ks(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(qe in e)Mn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&qe in n&&Mn(n)}}}function Mn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Mn(e[i],t)}catch{}const n=Mi(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const i=Bl(n);for(let r in i){const s=i[r].get;if(s)try{s.call(e)}catch{}}}}}const qa=["touchstart","touchmove"];function Oa(e){return qa.includes(e)}const Da=new Set,ki=new Set;function ja(e,t,n,i={}){function r(s){if(i.capture||yt.call(t,s),!s.cancelBubble)return fn(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Yn(()=>{t.addEventListener(e,r,i)}):t.addEventListener(e,r,i),r}function Q(e,t,n,i,r){var s={capture:i,passive:r},l=ja(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ss(()=>{t.removeEventListener(e,l,s)})}let wi=null;function yt(e){var t=this,n=t.ownerDocument,i=e.type,r=e.composedPath?.()||[],s=r[0]||e.target;wi=e;var l=0,a=wi===e&&e.__root;if(a){var u=r.indexOf(a);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var c=r.indexOf(t);if(c===-1)return;u<=c&&(l=u)}if(s=r[l]||e.target,s!==t){In(e,"currentTarget",{configurable:!0,get(){return s||n}});var p=C,h=I;we(null),Oe(null);try{for(var d,_=[];s!==null;){var f=s.assignedSlot||s.parentNode||s.host||null;try{var g=s["__"+i];if(g!=null&&(!s.disabled||e.target===s))if(sn(g)){var[b,...y]=g;b.apply(s,[e,...y])}else g.call(s,e)}catch(E){d?_.push(E):d=E}if(e.cancelBubble||f===t||f===null)break;s=f}if(d){for(let E of _)queueMicrotask(()=>{throw E});throw d}}finally{e.__root=t,delete e.currentTarget,we(p),Oe(h)}}}function ws(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Jt(e,t){var n=I;n.nodes_start===null&&(n.nodes_start=e,n.nodes_end=t)}function Ve(e,t){var n=(t&ia)!==0,i=(t&sa)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=ws(s?e:"<!>"+e),n||(r=Ne(r)));var l=i||Ji?document.importNode(r,!0):r.cloneNode(!0);if(n){var a=Ne(l),u=l.lastChild;Jt(a,u)}else Jt(l,l);return l}}function xi(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Lt();return e.append(t,n),Jt(t,n),e}function $e(e,t){e!==null&&e.before(t)}function he(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Ba(e,t){return Fa(e,t)}const et=new Map;function Fa(e,{target:t,anchor:n,props:i={},events:r,context:s,intro:l=!0}){ya();var a=new Set,u=h=>{for(var d=0;d<h.length;d++){var _=h[d];if(!a.has(_)){a.add(_);var f=Oa(_);t.addEventListener(_,yt,{passive:f});var g=et.get(_);g===void 0?(document.addEventListener(_,yt,{passive:f}),et.set(_,1)):et.set(_,g+1)}}};u(Bn(Da)),ki.add(u);var c=void 0,p=Ta(()=>{var h=n??t.appendChild(Lt());return Rt(()=>{if(s){Fi({});var d=Z;d.c=s}r&&(i.$$events=r),c=e(h,i)||{},s&&Hi()}),()=>{for(var d of a){t.removeEventListener(d,yt);var _=et.get(d);--_===0?(document.removeEventListener(d,yt),et.delete(d)):et.set(d,_)}ki.delete(u),h!==n&&h.parentNode?.removeChild(h)}});return Ha.set(c,p),c}let Ha=new WeakMap;function yi(e,t,n=!1){var i=e,r=null,s=null,l=X,a=n?Zn:0,u=!1;const c=(_,f=!0)=>{u=!0,d(f,_)};var p=null;function h(){p!==null&&(p.lastChild.remove(),i.before(p),p=null);var _=l?r:s,f=l?s:r;_&&tr(_),f&&Jn(f,()=>{l?s=null:r=null})}const d=(_,f)=>{if(l!==(l=_)){var g=ns(),b=i;if(g&&(p=document.createDocumentFragment(),p.append(b=Lt())),l?r??=f&&Rt(()=>f(b)):s??=f&&Rt(()=>f(b)),g){var y=j,E=l?r:s,z=l?s:r;E&&y.skipped_effects.delete(E),z&&y.skipped_effects.add(z),y.add_callback(h)}else h()}};os(()=>{u=!1,t(c),u||d(null,null)},a)}function vt(e,t){return t}function Za(e,t,n){for(var i=e.items,r=[],s=t.length,l=0;l<s;l++)er(t[l].e,r,!0);var a=s>0&&r.length===0&&n!==null;if(a){var u=n.parentNode;Sa(u),u.append(n),i.clear(),be(e,t[0].prev,t[s-1].next)}hs(r,()=>{for(var c=0;c<s;c++){var p=t[c];a||(i.delete(p.k),be(e,p.prev,p.next)),ze(p.e,!a)}})}function _t(e,t,n,i,r,s=null){var l=e,a={flags:t,items:new Map,first:null},u=(t&Di)!==0;if(u){var c=e;l=c.appendChild(Lt())}var p=null,h=!1,d=new Map,_=Gi(()=>{var y=n();return sn(y)?y:y==null?[]:Bn(y)}),f,g;function b(){Ua(g,f,a,d,l,r,t,i,n),s!==null&&(f.length===0?p?tr(p):p=Rt(()=>s(l)):p!==null&&Jn(p,()=>{p=null}))}os(()=>{g??=I,f=o(_);var y=f.length;if(!(h&&y===0)){h=y===0;var E,z,D,R;if(ns()){var S=new Set,$=j;for(z=0;z<y;z+=1){D=f[z],R=i(D,z);var L=a.items.get(R)??d.get(R);L?(t&(an|on))!==0&&xs(L,D,z,t):(E=ys(null,a,null,null,D,R,z,r,t,n,!0),d.set(R,E)),S.add(R)}for(const[H,ne]of a.items)S.has(H)||$.skipped_effects.add(ne.e);$.add_callback(b)}else b();o(_)}})}function Ua(e,t,n,i,r,s,l,a,u){var c=(l&na)!==0,p=(l&(an|on))!==0,h=t.length,d=n.items,_=n.first,f=_,g,b=null,y,E=[],z=[],D,R,S,$;if(c)for($=0;$<h;$+=1)D=t[$],R=a(D,$),S=d.get(R),S!==void 0&&(S.a?.measure(),(y??=new Set).add(S));for($=0;$<h;$+=1){if(D=t[$],R=a(D,$),S=d.get(R),S===void 0){var L=i.get(R);if(L!==void 0){i.delete(R),d.set(R,L);var H=b?b.next:f;be(n,b,L),be(n,L,H),Tn(L,H,r),b=L}else{var ne=f?f.e.nodes_start:r;b=ys(ne,n,b,b===null?n.first:b.next,D,R,$,s,l,u)}d.set(R,b),E=[],z=[],f=b.next;continue}if(p&&xs(S,D,$,l),(S.e.f&ve)!==0&&(tr(S.e),c&&(S.a?.unfix(),(y??=new Set).delete(S))),S!==f){if(g!==void 0&&g.has(S)){if(E.length<z.length){var U=z[0],re;b=U.prev;var pe=E[0],Se=E[E.length-1];for(re=0;re<E.length;re+=1)Tn(E[re],U,r);for(re=0;re<z.length;re+=1)g.delete(z[re]);be(n,pe.prev,Se.next),be(n,b,pe),be(n,Se,U),f=U,b=Se,$-=1,E=[],z=[]}else g.delete(S),Tn(S,f,r),be(n,S.prev,S.next),be(n,S,b===null?n.first:b.next),be(n,b,S),b=S;continue}for(E=[],z=[];f!==null&&f.k!==R;)(f.e.f&ve)===0&&(g??=new Set).add(f),z.push(f),f=f.next;if(f===null)continue;S=f}E.push(S),b=S,f=S.next}if(f!==null||g!==void 0){for(var G=g===void 0?[]:Bn(g);f!==null;)(f.e.f&ve)===0&&G.push(f),f=f.next;var V=G.length;if(V>0){var qt=(l&Di)!==0&&h===0?r:null;if(c){for($=0;$<V;$+=1)G[$].a?.measure();for($=0;$<V;$+=1)G[$].a?.fix()}Za(n,G,qt)}}c&&Yn(()=>{if(y!==void 0)for(S of y)S.a?.apply()}),e.first=n.first&&n.first.e,e.last=b&&b.e;for(var pt of i.values())ze(pt.e);i.clear()}function xs(e,t,n,i){(i&an)!==0&&ot(e.v,t),(i&on)!==0?ot(e.i,n):e.i=n}function ys(e,t,n,i,r,s,l,a,u,c,p){var h=(u&an)!==0,d=(u&ra)===0,_=h?d?P(r,!1,!1):Tt(r):r,f=(u&on)===0?l:Tt(l),g={i:f,v:_,k:s,a:null,e:null,prev:n,next:i};try{if(e===null){var b=document.createDocumentFragment();b.append(e=Lt())}return g.e=Rt(()=>a(e,_,f,c),aa),g.e.prev=n&&n.e,g.e.next=i&&i.e,n===null?p||(t.first=g):(n.next=g,n.e.next=g.e),i!==null&&(i.prev=g,i.e.prev=g.e),g}finally{}}function Tn(e,t,n){for(var i=e.next?e.next.e.nodes_start:n,r=t?t.e.nodes_start:n,s=e.e.nodes_start;s!==null&&s!==i;){var l=cn(s);r.before(s),s=l}}function be(e,t,n){t===null?e.first=n:(t.next=n,t.e.next=n&&n.e),n!==null&&(n.prev=t,n.e.prev=t&&t.e)}function mt(e,t,n=!1,i=!1,r=!1){var s=e,l="";ge(()=>{var a=I;if(l!==(l=t()??"")&&(a.nodes_start!==null&&(fs(a.nodes_start,a.nodes_end),a.nodes_start=a.nodes_end=null),l!=="")){var u=l+"";n?u=`<svg>${u}</svg>`:i&&(u=`<math>${u}</math>`);var c=ws(u);if((n||i)&&(c=Ne(c)),Jt(Ne(c),c.lastChild),n||i)for(;Ne(c);)s.before(Ne(c));else s.before(c)}})}const Si=[...` 	
\r\f \v\uFEFF`];function Ga(e,t,n){var i=e==null?"":""+e;if(t&&(i=i?i+" "+t:t),n){for(var r in n)if(n[r])i=i?i+" "+r:r;else if(i.length)for(var s=r.length,l=0;(l=i.indexOf(r,l))>=0;){var a=l+s;(l===0||Si.includes(i[l-1]))&&(a===i.length||Si.includes(i[a]))?i=(l===0?"":i.substring(0,l))+i.substring(a+1):l=a}}return i===""?null:i}function Wa(e,t){return e==null?null:String(e)}function tt(e,t,n,i,r,s){var l=e.__className;if(l!==n||l===void 0){var a=Ga(n,i,s);a==null?e.removeAttribute("class"):e.className=a,e.__className=n}else if(s&&r!==s)for(var u in s){var c=!!s[u];(r==null||c!==!!r[u])&&e.classList.toggle(u,c)}return s}function Ht(e,t,n,i){var r=e.__style;if(r!==t){var s=Wa(t);s==null?e.removeAttribute("style"):e.style.cssText=s,e.__style=t}return i}function Ss(e,t,n=!1){if(e.multiple){if(t==null)return;if(!sn(t))return la();for(var i of e.options)i.selected=t.includes($t(i));return}for(i of e.options){var r=$t(i);if(xa(r,t)){i.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Qa(e){var t=new MutationObserver(()=>{Ss(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),ss(()=>{t.disconnect()})}function bt(e,t,n=t){var i=!0;rs(e,"change",r=>{var s=r?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(s),$t);else{var a=e.querySelector(s)??e.querySelector("option:not([disabled])");l=a&&$t(a)}n(l)}),as(()=>{var r=t();if(Ss(e,r,i),i&&r===void 0){var s=e.querySelector(":checked");s!==null&&(r=$t(s),n(r))}e.__value=r,i=!1}),Qa(e)}function $t(e){return"__value"in e?e.__value:e.value}function de(e,t,n=t){var i=ct(),r=new WeakSet;rs(e,"input",s=>{var l=s?e.defaultValue:e.value;if(l=Rn(e)?zn(l):l,n(l),j!==null&&r.add(j),i&&l!==(l=t())){var a=e.selectionStart,u=e.selectionEnd;e.value=l??"",u!==null&&(e.selectionStart=a,e.selectionEnd=Math.min(u,e.value.length))}}),F(t)==null&&e.value&&(n(Rn(e)?zn(e.value):e.value),j!==null&&r.add(j)),pn(()=>{var s=t();if(e===document.activeElement){var l=Ut??j;if(r.has(l))return}Rn(e)&&s===zn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Rn(e){var t=e.type;return t==="number"||t==="range"}function zn(e){return e===""?null:+e}function $i(e,t){return e===t||e?.[qe]===t}function Ei(e={},t,n,i){return as(()=>{var r,s;return pn(()=>{r=s,s=[],F(()=>{e!==n(...s)&&(t(e,...s),r&&$i(n(...r),e)&&t(null,...r))})}),()=>{Yn(()=>{s&&$i(n(...s),e)&&t(null,...s)})}}),e}function Va(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function Ya(e=!1){const t=Z,n=t.l.u;if(!n)return;let i=()=>ks(t.s);if(e){let r=0,s={};const l=Xn(()=>{let a=!1;const u=t.s;for(const c in u)u[c]!==s[c]&&(s[c]=u[c],a=!0);return a&&r++,r});i=()=>o(l)}n.b.length&&Aa(()=>{Ai(t,i),Qt(n.b)}),Nn(()=>{const r=F(()=>n.m.map(Zl));return()=>{for(const s of r)typeof s=="function"&&s()}}),n.a.length&&Nn(()=>{Ai(t,i),Qt(n.a)})}function Ai(e,t){if(e.l.s)for(const n of e.l.s)o(n);t()}function $s(e){Z===null&&Oi(),Pt&&Z.l!==null?Ka(Z).m.push(e):Nn(()=>{const t=F(e);if(typeof t=="function")return t})}function Xa(e){Z===null&&Oi(),$s(()=>()=>F(e))}function Ka(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ja="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ja);ca();const eo="zine",to=2,xe="images",De="images_meta";function Ye(){return new Promise((e,t)=>{const n=indexedDB.open(eo,to);n.onupgradeneeded=()=>{const i=n.result;i.objectStoreNames.contains(xe)||i.createObjectStore(xe),i.objectStoreNames.contains(De)||i.createObjectStore(De)},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function no(e){const t=await Ye();return new Promise((n,i)=>{const l=t.transaction(xe,"readonly").objectStore(xe).get(e);l.onsuccess=()=>n(l.result),l.onerror=()=>i(l.error)})}async function ro(e,t){const n=await Ye();return new Promise((i,r)=>{const a=n.transaction(xe,"readwrite").objectStore(xe).put(t,e);a.onsuccess=()=>i(!0),a.onerror=()=>r(a.error)})}async function Es(e){const t=await Ye();return new Promise((n,i)=>{const l=t.transaction(xe,"readwrite").objectStore(xe).delete(e);l.onsuccess=()=>n(!0),l.onerror=()=>i(l.error)})}async function As(){const e=await Ye();return new Promise((t,n)=>{const r=e.transaction(xe,"readonly").objectStore(xe),s=[],l=r.openCursor();l.onsuccess=()=>{const a=l.result;a?(s.push(a.key),a.continue()):t(s)},l.onerror=()=>n(l.error)})}async function Ts(e){const t=await Ye();return new Promise((n,i)=>{const l=t.transaction(De,"readonly").objectStore(De).get(e);l.onsuccess=()=>n(l.result||null),l.onerror=()=>i(l.error)})}async function Rs(e,t){const n=await Ye();return new Promise((i,r)=>{const a=n.transaction(De,"readwrite").objectStore(De).put(t,e);a.onsuccess=()=>i(!0),a.onerror=()=>r(a.error)})}async function zs(e){const t=await Ye();return new Promise((n,i)=>{const l=t.transaction(De,"readwrite").objectStore(De).delete(e);l.onsuccess=()=>n(!0),l.onerror=()=>i(l.error)})}async function io(){if(!navigator.storage?.estimate)return null;try{const{quota:e,usage:t}=await navigator.storage.estimate();return{quota:e,usage:t}}catch{return null}}async function so(){if(navigator.storage?.persist)try{await navigator.storage.persist()}catch{}}const lo=256,ao=16,Ti=12,oo=2,Is=1600,uo=.85;function co(){return`${Date.now()}-${crypto.randomUUID()}`}async function Cs(){const e=await io();return e?e.usage/1024/1024:0}async function fo(e,t=Is,n=uo){const i=await createImageBitmap(e),r=Math.min(1,t/i.width),s=Math.round(i.width*r),l=Math.round(i.height*r);if(r>=1)return e;const a=document.createElement("canvas");a.width=s,a.height=l,a.getContext("2d").drawImage(i,0,0,s,l);const c=e.type==="image/png",p=c?"image/png":"image/jpeg",h=await new Promise(d=>a.toBlob(d,p,c?void 0:n));return new File([h],e.name.replace(/\.(\w+)$/,"")+(c?".png":".jpg"),{type:p})}async function po(e,t){let n=Is,i=e;for(let r=0;r<6;r++){if(i.size/1024/1024<=t)return i;n=Math.max(640,Math.floor(n*.75)),i=await fo(i,n)}return i}async function ho(e){const t=await As(),n=await Promise.all(t.map(async r=>{const s=await Ts(r);return{k:r,t:s?.last||0,s:s?.size||0}}));n.sort((r,s)=>r.t-s.t);let i=0;for(const r of n){if(i>=e*1024*1024)break;await Es(r.k).catch(()=>{}),await zs(r.k).catch(()=>{}),i+=r.s}}async function go(e){await so();let t=await po(e,Ti);if(t.size/1024/1024>Ti)throw new Error("file too large");const n=await Cs(),i=lo-n,r=t.size/1024/1024+ao;i<r&&await ho(r-i);const s=co();return await ro(s,t),await Rs(s,{size:t.size,last:Date.now()}),{key:s,file:t}}function vo(e){const t=new Set,n=/!\[[^\]]*]\(appimg:\/\/([^)]+)\)/g,i=/<img[^>]+src=["']appimg:\/\/([^"']+)["'][^>]*>/g;let r;for(;r=n.exec(e);)t.add(r[1]);for(;r=i.exec(e);)t.add(r[1]);return t}async function _o(e){const t=vo(e),i=(await As()).filter(r=>!t.has(r));await Promise.allSettled(i.map(async r=>{await Es(r),await zs(r)}))}const en=new Map;function mo(){for(const e of en.values())URL.revokeObjectURL(e);en.clear()}async function Ri(e){if(!e.includes("appimg://"))return e;const t=document.createElement("div");t.innerHTML=e;const n=Array.from(t.querySelectorAll('img[src^="appimg://"]'));let i=0;const r=async()=>{for(;;){const l=i++;if(l>=n.length)break;const a=n[l],u=a.getAttribute("src").slice(9);try{const c=await no(u);if(c){let p=en.get(u);p||(p=URL.createObjectURL(c),en.set(u,p)),a.src=p;const h=await Ts(u);await Rs(u,{...h||{},last:Date.now(),size:h?.size??c.size})}else a.setAttribute("alt",(a.getAttribute("alt")||"")+" (missing)")}catch{}}},s=Array.from({length:Math.min(oo,n.length)},r);return await Promise.all(s),t.innerHTML}const nt={A7:{id:"A7",label:"A7 (74×105mm)",w:74,h:105,margins:{top:5,right:5,bottom:5,left:5}},A6:{id:"A6",label:"A6 (105×148mm)",w:105,h:148,margins:{top:5,right:5,bottom:5,left:5}},A5:{id:"A5",label:"A5 (148×210mm)",w:148,h:210,margins:{top:5,right:5,bottom:5,left:5}},A4:{id:"A4",label:"A4 (210×297mm)",w:210,h:297,margins:{top:5,right:5,bottom:5,left:5}},Letter:{id:"Letter",label:"Letter (216×279mm)",w:216,h:279,margins:{top:5,right:5,bottom:5,left:5}}},Ee=96/25.4;function nr(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Xe=nr();function Ps(e){Xe=e}var Et={exec:()=>null};function q(e,t=""){let n=typeof e=="string"?e:e.source,i={replace:(r,s)=>{let l=typeof s=="string"?s:s.source;return l=l.replace(ee.caret,"$1"),n=n.replace(r,l),i},getRegex:()=>new RegExp(n,t)};return i}var ee={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},bo=/^(?:[ \t]*(?:\n|$))+/,ko=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,wo=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Mt=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,xo=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,rr=/(?:[*+-]|\d{1,9}[.)])/,Ls=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ns=q(Ls).replace(/bull/g,rr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),yo=q(Ls).replace(/bull/g,rr).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ir=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,So=/^[^\n]+/,sr=/(?!\s*\])(?:\\.|[^\[\]\\])+/,$o=q(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",sr).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Eo=q(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,rr).getRegex(),hn="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",lr=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ao=q("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",lr).replace("tag",hn).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ms=q(ir).replace("hr",Mt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hn).getRegex(),To=q(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ms).getRegex(),ar={blockquote:To,code:ko,def:$o,fences:wo,heading:xo,hr:Mt,html:Ao,lheading:Ns,list:Eo,newline:bo,paragraph:Ms,table:Et,text:So},zi=q("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Mt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hn).getRegex(),Ro={...ar,lheading:yo,table:zi,paragraph:q(ir).replace("hr",Mt).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",zi).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",hn).getRegex()},zo={...ar,html:q(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",lr).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Et,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:q(ir).replace("hr",Mt).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ns).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Io=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Co=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,qs=/^( {2,}|\\)\n(?!\s*$)/,Po=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,dn=/[\p{P}\p{S}]/u,or=/[\s\p{P}\p{S}]/u,Os=/[^\s\p{P}\p{S}]/u,Lo=q(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,or).getRegex(),Ds=/(?!~)[\p{P}\p{S}]/u,No=/(?!~)[\s\p{P}\p{S}]/u,Mo=/(?:[^\s\p{P}\p{S}]|~)/u,qo=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,js=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Oo=q(js,"u").replace(/punct/g,dn).getRegex(),Do=q(js,"u").replace(/punct/g,Ds).getRegex(),Bs="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",jo=q(Bs,"gu").replace(/notPunctSpace/g,Os).replace(/punctSpace/g,or).replace(/punct/g,dn).getRegex(),Bo=q(Bs,"gu").replace(/notPunctSpace/g,Mo).replace(/punctSpace/g,No).replace(/punct/g,Ds).getRegex(),Fo=q("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Os).replace(/punctSpace/g,or).replace(/punct/g,dn).getRegex(),Ho=q(/\\(punct)/,"gu").replace(/punct/g,dn).getRegex(),Zo=q(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Uo=q(lr).replace("(?:-->|$)","-->").getRegex(),Go=q("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Uo).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),tn=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Wo=q(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",tn).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Fs=q(/^!?\[(label)\]\[(ref)\]/).replace("label",tn).replace("ref",sr).getRegex(),Hs=q(/^!?\[(ref)\](?:\[\])?/).replace("ref",sr).getRegex(),Qo=q("reflink|nolink(?!\\()","g").replace("reflink",Fs).replace("nolink",Hs).getRegex(),ur={_backpedal:Et,anyPunctuation:Ho,autolink:Zo,blockSkip:qo,br:qs,code:Co,del:Et,emStrongLDelim:Oo,emStrongRDelimAst:jo,emStrongRDelimUnd:Fo,escape:Io,link:Wo,nolink:Hs,punctuation:Lo,reflink:Fs,reflinkSearch:Qo,tag:Go,text:Po,url:Et},Vo={...ur,link:q(/^!?\[(label)\]\((.*?)\)/).replace("label",tn).getRegex(),reflink:q(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",tn).getRegex()},qn={...ur,emStrongRDelimAst:Bo,emStrongLDelim:Do,url:q(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Yo={...qn,br:q(qs).replace("{2,}","*").getRegex(),text:q(qn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Zt={normal:ar,gfm:Ro,pedantic:zo},kt={normal:ur,gfm:qn,breaks:Yo,pedantic:Vo},Xo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ii=e=>Xo[e];function me(e,t){if(t){if(ee.escapeTest.test(e))return e.replace(ee.escapeReplace,Ii)}else if(ee.escapeTestNoEncode.test(e))return e.replace(ee.escapeReplaceNoEncode,Ii);return e}function Ci(e){try{e=encodeURI(e).replace(ee.percentDecode,"%")}catch{return null}return e}function Pi(e,t){let n=e.replace(ee.findPipe,(s,l,a)=>{let u=!1,c=l;for(;--c>=0&&a[c]==="\\";)u=!u;return u?"|":" |"}),i=n.split(ee.splitPipe),r=0;if(i[0].trim()||i.shift(),i.length>0&&!i.at(-1)?.trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(ee.slashPipe,"|");return i}function wt(e,t,n){let i=e.length;if(i===0)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function Ko(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return n>0?-2:-1}function Li(e,t,n,i,r){let s=t.href,l=t.title||null,a=e[1].replace(r.other.outputLinkReplace,"$1");i.state.inLink=!0;let u={type:e[0].charAt(0)==="!"?"image":"link",raw:n,href:s,title:l,text:a,tokens:i.inlineTokens(a)};return i.state.inLink=!1,u}function Jo(e,t,n){let i=e.match(n.other.indentCodeCompensation);if(i===null)return t;let r=i[1];return t.split(`
`).map(s=>{let l=s.match(n.other.beginningSpace);if(l===null)return s;let[a]=l;return a.length>=r.length?s.slice(r.length):s}).join(`
`)}var nn=class{options;rules;lexer;constructor(e){this.options=e||Xe}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:wt(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],i=Jo(n,t[3]||"",this.rules);return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):t[2],text:i}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(this.rules.other.endingHash.test(n)){let i=wt(n,"#");(this.options.pedantic||!i||this.rules.other.endingSpaceChar.test(i))&&(n=i.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:wt(t[0],`
`)}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=wt(t[0],`
`).split(`
`),i="",r="",s=[];for(;n.length>0;){let l=!1,a=[],u;for(u=0;u<n.length;u++)if(this.rules.other.blockquoteStart.test(n[u]))a.push(n[u]),l=!0;else if(!l)a.push(n[u]);else break;n=n.slice(u);let c=a.join(`
`),p=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");i=i?`${i}
${c}`:c,r=r?`${r}
${p}`:p;let h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,s,!0),this.lexer.state.top=h,n.length===0)break;let d=s.at(-1);if(d?.type==="code")break;if(d?.type==="blockquote"){let _=d,f=_.raw+`
`+n.join(`
`),g=this.blockquote(f);s[s.length-1]=g,i=i.substring(0,i.length-_.raw.length)+g.raw,r=r.substring(0,r.length-_.text.length)+g.text;break}else if(d?.type==="list"){let _=d,f=_.raw+`
`+n.join(`
`),g=this.list(f);s[s.length-1]=g,i=i.substring(0,i.length-d.raw.length)+g.raw,r=r.substring(0,r.length-_.raw.length)+g.raw,n=f.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:s,text:r}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n=t[1].trim(),i=n.length>1,r={type:"list",raw:"",ordered:i,start:i?+n.slice(0,-1):"",loose:!1,items:[]};n=i?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=i?n:"[*+-]");let s=this.rules.other.listItemRegex(n),l=!1;for(;e;){let u=!1,c="",p="";if(!(t=s.exec(e))||this.rules.block.hr.test(e))break;c=t[0],e=e.substring(c.length);let h=t[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,y=>" ".repeat(3*y.length)),d=e.split(`
`,1)[0],_=!h.trim(),f=0;if(this.options.pedantic?(f=2,p=h.trimStart()):_?f=t[1].length+1:(f=t[2].search(this.rules.other.nonSpaceChar),f=f>4?1:f,p=h.slice(f),f+=t[1].length),_&&this.rules.other.blankLine.test(d)&&(c+=d+`
`,e=e.substring(d.length+1),u=!0),!u){let y=this.rules.other.nextBulletRegex(f),E=this.rules.other.hrRegex(f),z=this.rules.other.fencesBeginRegex(f),D=this.rules.other.headingBeginRegex(f),R=this.rules.other.htmlBeginRegex(f);for(;e;){let S=e.split(`
`,1)[0],$;if(d=S,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),$=d):$=d.replace(this.rules.other.tabCharGlobal,"    "),z.test(d)||D.test(d)||R.test(d)||y.test(d)||E.test(d))break;if($.search(this.rules.other.nonSpaceChar)>=f||!d.trim())p+=`
`+$.slice(f);else{if(_||h.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||z.test(h)||D.test(h)||E.test(h))break;p+=`
`+d}!_&&!d.trim()&&(_=!0),c+=S+`
`,e=e.substring(S.length+1),h=$.slice(f)}}r.loose||(l?r.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(l=!0));let g=null,b;this.options.gfm&&(g=this.rules.other.listIsTask.exec(p),g&&(b=g[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:c,task:!!g,checked:b,loose:!1,text:p,tokens:[]}),r.raw+=c}let a=r.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let u=0;u<r.items.length;u++)if(this.lexer.state.top=!1,r.items[u].tokens=this.lexer.blockTokens(r.items[u].text,[]),!r.loose){let c=r.items[u].tokens.filter(h=>h.type==="space"),p=c.length>0&&c.some(h=>this.rules.other.anyLine.test(h.raw));r.loose=p}if(r.loose)for(let u=0;u<r.items.length;u++)r.items[u].loose=!0;return r}}html(e){let t=this.rules.block.html.exec(e);if(t)return{type:"html",block:!0,raw:t[0],pre:t[1]==="pre"||t[1]==="script"||t[1]==="style",text:t[0]}}def(e){let t=this.rules.block.def.exec(e);if(t){let n=t[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),i=t[2]?t[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:i,title:r}}}table(e){let t=this.rules.block.table.exec(e);if(!t||!this.rules.other.tableDelimiter.test(t[2]))return;let n=Pi(t[1]),i=t[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=t[3]?.trim()?t[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:t[0],header:[],align:[],rows:[]};if(n.length===i.length){for(let l of i)this.rules.other.tableAlignRight.test(l)?s.align.push("right"):this.rules.other.tableAlignCenter.test(l)?s.align.push("center"):this.rules.other.tableAlignLeft.test(l)?s.align.push("left"):s.align.push(null);for(let l=0;l<n.length;l++)s.header.push({text:n[l],tokens:this.lexer.inline(n[l]),header:!0,align:s.align[l]});for(let l of r)s.rows.push(Pi(l,s.header.length).map((a,u)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:s.align[u]})));return s}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:t[1]}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&this.rules.other.startATag.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let s=wt(n.slice(0,-1),"\\");if((n.length-s.length)%2===0)return}else{let s=Ko(t[2],"()");if(s===-2)return;if(s>-1){let l=(t[0].indexOf("!")===0?5:4)+t[1].length+s;t[2]=t[2].substring(0,s),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let i=t[2],r="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(i);s&&(i=s[1],r=s[3])}else r=t[3]?t[3].slice(1,-1):"";return i=i.trim(),this.rules.other.startAngleBracket.test(i)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?i=i.slice(1):i=i.slice(1,-1)),Li(t,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},t[0],this.lexer,this.rules)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let i=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=t[i.toLowerCase()];if(!r){let s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return Li(n,r,n[0],this.lexer,this.rules)}}emStrong(e,t,n=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!(!i||i[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(i[1]||i[2])||!n||this.rules.inline.punctuation.exec(n))){let r=[...i[0]].length-1,s,l,a=r,u=0,c=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+r);(i=c.exec(t))!=null;){if(s=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!s)continue;if(l=[...s].length,i[3]||i[4]){a+=l;continue}else if((i[5]||i[6])&&r%3&&!((r+l)%3)){u+=l;continue}if(a-=l,a>0)continue;l=Math.min(l,l+a+u);let p=[...i[0]][0].length,h=e.slice(0,r+i.index+p+l);if(Math.min(r,l)%2){let _=h.slice(1,-1);return{type:"em",raw:h,text:_,tokens:this.lexer.inlineTokens(_)}}let d=h.slice(2,-2);return{type:"strong",raw:h,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(this.rules.other.newLineCharGlobal," "),i=this.rules.other.nonSpaceChar.test(n),r=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return i&&r&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e){let t=this.rules.inline.autolink.exec(e);if(t){let n,i;return t[2]==="@"?(n=t[1],i="mailto:"+n):(n=t[1],i=n),{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}url(e){let t;if(t=this.rules.inline.url.exec(e)){let n,i;if(t[2]==="@")n=t[0],i="mailto:"+n;else{let r;do r=t[0],t[0]=this.rules.inline._backpedal.exec(t[0])?.[0]??"";while(r!==t[0]);n=t[0],t[1]==="www."?i="http://"+t[0]:i=t[0]}return{type:"link",raw:t[0],text:n,href:i,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let t=this.rules.inline.text.exec(e);if(t){let n=this.lexer.state.inRawBlock;return{type:"text",raw:t[0],text:t[0],escaped:n}}}},Ae=class On{tokens;options;state;tokenizer;inlineQueue;constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Xe,this.options.tokenizer=this.options.tokenizer||new nn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:ee,block:Zt.normal,inline:kt.normal};this.options.pedantic?(n.block=Zt.pedantic,n.inline=kt.pedantic):this.options.gfm&&(n.block=Zt.gfm,this.options.breaks?n.inline=kt.breaks:n.inline=kt.gfm),this.tokenizer.rules=n}static get rules(){return{block:Zt,inline:kt}}static lex(t,n){return new On(n).lex(t)}static lexInline(t,n){return new On(n).inlineTokens(t)}lex(t){t=t.replace(ee.carriageReturn,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){for(this.options.pedantic&&(t=t.replace(ee.tabCharGlobal,"    ").replace(ee.spaceLine,""));t;){let r;if(this.options.extensions?.block?.some(l=>(r=l.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))continue;if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length);let l=n.at(-1);r.raw.length===1&&l!==void 0?l.raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length);let l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+r.raw,l.text+=`
`+r.text,this.inlineQueue.at(-1).src=l.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length);let l=n.at(-1);l?.type==="paragraph"||l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+r.raw,l.text+=`
`+r.raw,this.inlineQueue.at(-1).src=l.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},n.push(r));continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}let s=t;if(this.options.extensions?.startBlock){let l=1/0,a=t.slice(1),u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(s=t.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let l=n.at(-1);i&&l?.type==="paragraph"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+r.raw,l.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(r),i=s.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length);let l=n.at(-1);l?.type==="text"?(l.raw+=(l.raw.endsWith(`
`)?"":`
`)+r.raw,l.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=l.text):n.push(r);continue}if(t){let l="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i=t,r=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(i))!=null;)a.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(i))!=null;)i=i.slice(0,r.index)+"++"+i.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(r=this.tokenizer.rules.inline.blockSkip.exec(i))!=null;)i=i.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+i.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,l="";for(;t;){s||(l=""),s=!1;let a;if(this.options.extensions?.inline?.some(c=>(a=c.call({lexer:this},t,n))?(t=t.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(a.raw.length);let c=n.at(-1);a.type==="text"&&c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(t,i,l)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(t)){t=t.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(t)){t=t.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(t))){t=t.substring(a.raw.length),n.push(a);continue}let u=t;if(this.options.extensions?.startInline){let c=1/0,p=t.slice(1),h;this.options.extensions.startInline.forEach(d=>{h=d.call({lexer:this},p),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(u=t.substring(0,c+1))}if(a=this.tokenizer.inlineText(u)){t=t.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(l=a.raw.slice(-1)),s=!0;let c=n.at(-1);c?.type==="text"?(c.raw+=a.raw,c.text+=a.text):n.push(a);continue}if(t){let c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}},rn=class{options;parser;constructor(e){this.options=e||Xe}space(e){return""}code({text:e,lang:t,escaped:n}){let i=(t||"").match(ee.notSpaceStart)?.[0],r=e.replace(ee.endingNewline,"")+`
`;return i?'<pre><code class="language-'+me(i)+'">'+(n?r:me(r,!0))+`</code></pre>
`:"<pre><code>"+(n?r:me(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:t}){return`<h${t}>${this.parser.parseInline(e)}</h${t}>
`}hr(e){return`<hr>
`}list(e){let t=e.ordered,n=e.start,i="";for(let l=0;l<e.items.length;l++){let a=e.items[l];i+=this.listitem(a)}let r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+i+"</"+r+`>
`}listitem(e){let t="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+me(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):t+=n+" "}return t+=this.parser.parse(e.tokens,!!e.loose),`<li>${t}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let t="",n="";for(let r=0;r<e.header.length;r++)n+=this.tablecell(e.header[r]);t+=this.tablerow({text:n});let i="";for(let r=0;r<e.rows.length;r++){let s=e.rows[r];n="";for(let l=0;l<s.length;l++)n+=this.tablecell(s[l]);i+=this.tablerow({text:n})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+t+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let t=this.parser.parseInline(e.tokens),n=e.header?"th":"td";return(e.align?`<${n} align="${e.align}">`:`<${n}>`)+t+`</${n}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${me(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:t,tokens:n}){let i=this.parser.parseInline(n),r=Ci(e);if(r===null)return i;e=r;let s='<a href="'+e+'"';return t&&(s+=' title="'+me(t)+'"'),s+=">"+i+"</a>",s}image({href:e,title:t,text:n,tokens:i}){i&&(n=this.parser.parseInline(i,this.parser.textRenderer));let r=Ci(e);if(r===null)return me(n);e=r;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${me(t)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:me(e.text)}},cr=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Te=class Dn{options;renderer;textRenderer;constructor(t){this.options=t||Xe,this.options.renderer=this.options.renderer||new rn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new cr}static parse(t,n){return new Dn(n).parse(t)}static parseInline(t,n){return new Dn(n).parseInline(t)}parse(t,n=!0){let i="";for(let r=0;r<t.length;r++){let s=t[r];if(this.options.extensions?.renderers?.[s.type]){let a=s,u=this.options.extensions.renderers[a.type].call({parser:this},a);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(a.type)){i+=u||"";continue}}let l=s;switch(l.type){case"space":{i+=this.renderer.space(l);continue}case"hr":{i+=this.renderer.hr(l);continue}case"heading":{i+=this.renderer.heading(l);continue}case"code":{i+=this.renderer.code(l);continue}case"table":{i+=this.renderer.table(l);continue}case"blockquote":{i+=this.renderer.blockquote(l);continue}case"list":{i+=this.renderer.list(l);continue}case"html":{i+=this.renderer.html(l);continue}case"def":{i+=this.renderer.def(l);continue}case"paragraph":{i+=this.renderer.paragraph(l);continue}case"text":{let a=l,u=this.renderer.text(a);for(;r+1<t.length&&t[r+1].type==="text";)a=t[++r],u+=`
`+this.renderer.text(a);n?i+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):i+=u;continue}default:{let a='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(t,n=this.renderer){let i="";for(let r=0;r<t.length;r++){let s=t[r];if(this.options.extensions?.renderers?.[s.type]){let a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){i+=a||"";continue}}let l=s;switch(l.type){case"escape":{i+=n.text(l);break}case"html":{i+=n.html(l);break}case"link":{i+=n.link(l);break}case"image":{i+=n.image(l);break}case"strong":{i+=n.strong(l);break}case"em":{i+=n.em(l);break}case"codespan":{i+=n.codespan(l);break}case"br":{i+=n.br(l);break}case"del":{i+=n.del(l);break}case"text":{i+=n.text(l);break}default:{let a='Token with "'+l.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}},Wt=class{options;block;constructor(e){this.options=e||Xe}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ae.lex:Ae.lexInline}provideParser(){return this.block?Te.parse:Te.parseInline}},eu=class{defaults=nr();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Te;Renderer=rn;TextRenderer=cr;Lexer=Ae;Tokenizer=nn;Hooks=Wt;constructor(...e){this.use(...e)}walkTokens(e,t){let n=[];for(let i of e)switch(n=n.concat(t.call(this,i)),i.type){case"table":{let r=i;for(let s of r.header)n=n.concat(this.walkTokens(s.tokens,t));for(let s of r.rows)for(let l of s)n=n.concat(this.walkTokens(l.tokens,t));break}case"list":{let r=i;n=n.concat(this.walkTokens(r.items,t));break}default:{let r=i;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let l=r[s].flat(1/0);n=n.concat(this.walkTokens(l,t))}):r.tokens&&(n=n.concat(this.walkTokens(r.tokens,t)))}}return n}use(...e){let t=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(n=>{let i={...n};if(i.async=this.defaults.async||i.async||!1,n.extensions&&(n.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=t.renderers[r.name];s?t.renderers[r.name]=function(...l){let a=r.renderer.apply(this,l);return a===!1&&(a=s.apply(this,l)),a}:t.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=t[r.level];s?s.unshift(r.tokenizer):t[r.level]=[r.tokenizer],r.start&&(r.level==="block"?t.startBlock?t.startBlock.push(r.start):t.startBlock=[r.start]:r.level==="inline"&&(t.startInline?t.startInline.push(r.start):t.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(t.childTokens[r.name]=r.childTokens)}),i.extensions=t),n.renderer){let r=this.defaults.renderer||new rn(this.defaults);for(let s in n.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let l=s,a=n.renderer[l],u=r[l];r[l]=(...c)=>{let p=a.apply(r,c);return p===!1&&(p=u.apply(r,c)),p||""}}i.renderer=r}if(n.tokenizer){let r=this.defaults.tokenizer||new nn(this.defaults);for(let s in n.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let l=s,a=n.tokenizer[l],u=r[l];r[l]=(...c)=>{let p=a.apply(r,c);return p===!1&&(p=u.apply(r,c)),p}}i.tokenizer=r}if(n.hooks){let r=this.defaults.hooks||new Wt;for(let s in n.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let l=s,a=n.hooks[l],u=r[l];Wt.passThroughHooks.has(s)?r[l]=c=>{if(this.defaults.async)return Promise.resolve(a.call(r,c)).then(h=>u.call(r,h));let p=a.call(r,c);return u.call(r,p)}:r[l]=(...c)=>{let p=a.apply(r,c);return p===!1&&(p=u.apply(r,c)),p}}i.hooks=r}if(n.walkTokens){let r=this.defaults.walkTokens,s=n.walkTokens;i.walkTokens=function(l){let a=[];return a.push(s.call(this,l)),r&&(a=a.concat(r.call(this,l))),a}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,t){return Ae.lex(e,t??this.defaults)}parser(e,t){return Te.parse(e,t??this.defaults)}parseMarkdown(e){return(t,n)=>{let i={...n},r={...this.defaults,...i},s=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&i.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof t>"u"||t===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));r.hooks&&(r.hooks.options=r,r.hooks.block=e);let l=r.hooks?r.hooks.provideLexer():e?Ae.lex:Ae.lexInline,a=r.hooks?r.hooks.provideParser():e?Te.parse:Te.parseInline;if(r.async)return Promise.resolve(r.hooks?r.hooks.preprocess(t):t).then(u=>l(u,r)).then(u=>r.hooks?r.hooks.processAllTokens(u):u).then(u=>r.walkTokens?Promise.all(this.walkTokens(u,r.walkTokens)).then(()=>u):u).then(u=>a(u,r)).then(u=>r.hooks?r.hooks.postprocess(u):u).catch(s);try{r.hooks&&(t=r.hooks.preprocess(t));let u=l(t,r);r.hooks&&(u=r.hooks.processAllTokens(u)),r.walkTokens&&this.walkTokens(u,r.walkTokens);let c=a(u,r);return r.hooks&&(c=r.hooks.postprocess(c)),c}catch(u){return s(u)}}}onError(e,t){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let i="<p>An error occurred:</p><pre>"+me(n.message+"",!0)+"</pre>";return t?Promise.resolve(i):i}if(t)return Promise.reject(n);throw n}}},We=new eu;function O(e,t){return We.parse(e,t)}O.options=O.setOptions=function(e){return We.setOptions(e),O.defaults=We.defaults,Ps(O.defaults),O};O.getDefaults=nr;O.defaults=Xe;O.use=function(...e){return We.use(...e),O.defaults=We.defaults,Ps(O.defaults),O};O.walkTokens=function(e,t){return We.walkTokens(e,t)};O.parseInline=We.parseInline;O.Parser=Te;O.parser=Te.parse;O.Renderer=rn;O.TextRenderer=cr;O.Lexer=Ae;O.lexer=Ae.lex;O.Tokenizer=nn;O.Hooks=Wt;O.parse=O;O.options;O.setOptions;O.use;O.walkTokens;O.parseInline;Te.parse;Ae.lex;function tu(e=""){return O.parse(String(e))}function nu(e){const t=String(e).split(/\r?\n/),n=[];let i=[];const r=()=>{i.length&&(n.push(tu(i.join(`
`))),i.length=0)},s=l=>/^\s*(\[\[(pagebreak|colbreak)\]\]|``|<!--\s*newpage\s*-->)\s*$/i.test(l);for(const l of t){const a=l.match(/^\s*\[\[\s*head(?:er)?:\s*(.*?)\s*\]\]\s*$/i),u=l.match(/^\s*\[\[\s*foot:\s*(.*?)\s*\]\]\s*$/i);if(a){r(),n.push(`<div data-runhead="${a[1].replace(/"/g,"&quot;")}"></div>`);continue}if(u){r(),n.push(`<div data-runfoot="${u[1].replace(/"/g,"&quot;")}"></div>`);continue}if(s(l)){const c=l.trim().toLowerCase();r(),c.includes("colbreak")?n.push('<div data-colbreak="1" class="col-break-marker"></div>'):n.push('<div data-pagebreak="1" class="page-break-marker"></div>')}else i.push(l)}return r(),n.join(`
`)}let jn=null;function It(e,t){const n=jn||document.body,i=document.createElement("div");i.style.position="absolute",i.style.left="-99999px",i.style.top="0",i.style.width=t+"px",i.style.boxSizing="border-box",i.style.visibility="hidden",i.style.whiteSpace="normal",i.style.wordBreak="normal",i.style.overflowWrap="anywhere",n.appendChild(i);const r=e.cloneNode(!0);r.style.whiteSpace="inherit",r.style.wordBreak="inherit",r.style.overflowWrap="inherit",i.appendChild(r);const s=getComputedStyle(r),l=parseFloat(s.marginTop)||0,a=parseFloat(s.marginBottom)||0,u=r.offsetHeight+l+a;return i.remove(),{h:u,mt:l,mb:a}}function ru(e){const t=e.classList||{contains:()=>!1};return t.contains("span-all")||t.contains("full")||t.contains("cols")||t.contains("cols-1")||t.contains("cols-2")||t.contains("img-page")||t.contains("img-wide")||t.contains("figure-wide")}function Zs(e,t,n,i=!1){const s=(e.textContent??"").toString().replace(/\s+/g," ").trim();if(!s.length)return{head:null,tail:null};if(!(e.childNodes.length===1&&e.firstChild&&e.firstChild.nodeType===3)){if(i)return{head:null,tail:null};const g=document.createElement("p");return g.textContent=s,Zs(g,t,n,!0)}const a=e.cloneNode(!1);if(a.textContent=s,It(a,t).h<=n)return{head:e.cloneNode(!0),tail:null};const u=e.cloneNode(!1),c=e.cloneNode(!1);let p=0,h=s.length;for(;p<h;){const g=p+h+1>>1;u.textContent=s.slice(0,g),It(u,t).h<=n?p=g:h=g-1}let d=p;for(;d>0&&!/\s/.test(s[d-1]);)d--;d===0&&(d=p);const _=s.slice(0,d).replace(/\s+$/,""),f=s.slice(d).replace(/^\s+/,"");return u.textContent=_,c.textContent=f,{head:_?u:null,tail:f?c:null}}function iu(e,t,n){const i=e.tagName;if(i==="P")return Zs(e,t,n);if(i==="UL"||i==="OL"){const r=e.cloneNode(!1),s=e.cloneNode(!1),l=Array.from(e.children);for(let a=0;a<l.length;a++)if(r.appendChild(l[a].cloneNode(!0)),It(r,t).h>n){r.removeChild(r.lastChild);for(let c=a;c<l.length;c++)s.appendChild(l[c].cloneNode(!0));return{head:r.childNodes.length?r:null,tail:s.childNodes.length?s:null}}return{head:r,tail:null}}return{head:null,tail:null}}function su(e){const t=e.measurer_el??e.measurerEl,n=e.page_px??e.pagePx,i=e.pad,r=e.columns,s=e.column_gap??e.columnGap;if(!t||!n||!i)return{pages:[],heads:[],foots:[]};jn=t;const l=n.h-(i.top+i.bottom),a=Math.max(1,Number(r)||1),u=(Number(s)||0)*Ee,c=n.w-(i.left+i.right),p=a>1?(c-u*(a-1))/a:c,h=Array.from(t.childNodes).filter(H=>H.nodeType===1),d=[],_=[],f=[];let g=[],b=0,y=0,E=0,z="",D="";const R=()=>{d.push(g.join("")),_.push(z),f.push(D),g=[],b=0,y=0,E=0},S=()=>{b<a-1?(b+=1,y=0,E=0):R()},$=H=>{g.push(H)};let L=0;for(;L<h.length;){const H=h[L];if(H.hasAttribute&&H.hasAttribute("data-runhead")){z=H.getAttribute("data-runhead")||"",L++;continue}if(H.hasAttribute&&H.hasAttribute("data-runfoot")){D=H.getAttribute("data-runfoot")||"",L++;continue}if(H.hasAttribute&&H.hasAttribute("data-pagebreak")){R(),L++;continue}if(H.hasAttribute&&H.hasAttribute("data-colbreak")){$('<div class="force-colbreak"></div>'),S(),L++;continue}if(["META","LINK","SCRIPT","STYLE"].includes(H.tagName)){L++;continue}const ne=H;if(ru(ne)){(b!==0||y>0)&&R(),$(ne.outerHTML),R(),L++;continue}const U=It(ne,p),re=y===0?U.h:U.h-Math.min(E,U.mt);if(re<=l-y){$(ne.outerHTML),y+=re,E=U.mb,L++;continue}if(U.h<=l){S();continue}const{head:pe,tail:Se}=iu(ne,p,l-y);if(pe){const G=It(pe,p),V=y===0?G.h:G.h-Math.min(E,G.mt);if(V<=l-y){$(pe.outerHTML),y+=V,E=G.mb,Se&&h.splice(L+1,0,Se),L++;continue}else{S();continue}}$(ne.outerHTML),R(),L++}return d.push(g.join("")),_.push(z),f.push(D),jn=null,{pages:d,heads:_,foots:f}}function lu(e,t,n,i,r,s,l,a,u,c,p){const h=b=>`${b}mm`,d=c==="spreads"?e.w*2+p:e.w,_=e.h,f=`
@page { size: ${h(d)} ${h(_)}; margin: 0; }
@media print {
  body { background: #fff !important; }
  .topbar, .workspace .left, .workspace .splitter, .right .spreads { display: none !important; }
  #print-root { display: block !important; }
  #print-root .print-page { width: ${h(e.w)}; height: ${h(e.h)}; background: #fff; box-shadow: none !important; page-break-after: always; }
  #print-root .print-page:last-child { page-break-after: auto; }
  #print-root .print-sheet { display: flex; align-items: stretch; width: ${h(d)}; height: ${h(_)}; page-break-after: always; background: #fff; }
  #print-root .print-sheet:last-child { page-break-after: auto; }
  #print-root .print-gutter { width: ${h(p)}; flex: 0 0 ${h(p)}; }
  #print-root .print-inner {
    box-sizing: border-box; width: 100%; height: 100%; overflow: hidden;
    padding: ${h(t.top)} ${h(t.right)} ${h(t.bottom)} ${h(t.left)};
    --pad-top:${h(t.top)}; --pad-right:${h(t.right)}; --pad-bottom:${h(t.bottom)}; --pad-left:${h(t.left)};
    column-count: ${n}; column-gap: ${h(i)};
    font-family: ${r}; font-size: ${s}pt; line-height: ${l};
    text-align: ${a==="justify"?"justify":"left"}; hyphens: ${u};
  }
  #print-root .print-inner > :first-child { margin-top: 0 !important; }
  #print-root .print-inner :where(h1,h2,h3,h4,h5,h6,p,ul,ol,blockquote):first-child { margin-top: 0 !important; }
  #print-root .print-inner img:first-child { margin-top: 0 !important; }
  #print-root .print-inner .img-page {
    display:block;
    width: calc(100% + var(--pad-left) + var(--pad-right));
    height: calc(100% + var(--pad-top) + var(--pad-bottom));
    margin-left: calc(-1 * var(--pad-left));
    margin-top: calc(-1 * var(--pad-top));
    object-fit: cover;
    break-inside: avoid;
    column-span: all;
    padding: 0 !important;
  }
}
`;let g=document.getElementById("print-rules");g||(g=document.createElement("style"),g.id="print-rules",document.head.appendChild(g)),g.textContent=f}var au=Ve("<option> </option>"),ou=Ve('<label>Gutter <input type="number" min="0" step="1"/> mm</label>'),uu=Ve("<button></button>"),cu=Ve('<div class="page"><div class="page-running-header"> </div> <div><!></div> <div class="page-running-footer"> </div> <div></div></div>'),fu=Ve('<div class="print-page"><div class="print-running-header"> </div> <div><!></div> <div class="print-running-footer"> </div> <div></div></div>'),pu=Ve('<div class="print-sheet"><div class="print-page"><div class="print-running-header"> </div> <div><!></div> <div class="print-running-footer"> </div> <div class="print-page-number lef"></div></div> <div class="print-gutter"></div> <div class="print-page"><div class="print-running-header"> </div> <div><!></div> <div class="print-running-footer"> </div> <div class="print-page-number rig"></div></div></div>'),hu=Ve('<div class="topbar"><div class="group"><label>PDF Title <input type="text" placeholder="Title…"/></label> <label>Size <select></select></label> <button>Reset margins</button></div> <div class="group"><label>T <input type="number" min="0" step="1"/> mm</label> <label>R <input type="number" min="0" step="1"/> mm</label> <label>B <input type="number" min="0" step="1"/> mm</label> <label>L <input type="number" min="0" step="1"/> mm</label></div> <div class="group"><label>Cols <input type="number" min="1" step="1"/></label> <label>Gap <input type="number" min="0" step="1"/> mm</label></div> <div class="group"><label>Font <select><option>Serif</option><option>Sans</option><option>Mono</option></select></label> <label>Size <input type="number" min="3" step="0.5"/> pt</label> <label>LH <input type="number" min="0.5" step="0.1"/></label> <button>A−</button> <button>A+</button> <label><select><option>Ragged</option><option>Justify</option></select></label> <label><select><option>No hyphens</option><option>Hyphens auto</option></select></label></div> <div class="group"><label>Print <select><option>Single pages</option><option>Spreads (2-up)</option></select></label> <!></div> <div class="group right"><button>+ Head</button> <button>+ Foot</button> <input type="file" id="image_input" accept="image/*" multiple style="display:none"/> <input type="file" id="image_input_full" accept="image/*" multiple style="display:none"/> <button>+ Image</button> <button>+ Full Image</button> <button>Span all</button> <!> <button>+ Col Break</button> <button>+ Page Break</button> <button class="primary">Print / PDF</button></div></div> <div class="workspace"><section class="left"><div class="editor"><div class="header"><div>Markdown</div> <div class="meta"> </div></div> <textarea spellcheck="false"></textarea> <div class="hint storage-indicator"> </div></div></section> <div class="splitter" title="Drag to resize"></div> <section class="right"><div id="measurer"><!></div> <div class="spreads"></div> <div id="print-root" aria-hidden="true" style="display:none"><!></div></section></div>',1);function du(e,t){Fi(t,!1);const n=P(),i=P(),r=P(),s=P(),l=P(),a=P(),u=P(),c=P(),p=P(),h=`## Can we write while we are typesetting a book?
[[pagebreak]]`;let d=P(localStorage.getItem("zine:title")??"Untitled Zine"),_=P(localStorage.getItem("zine:page_size")??"A7"),f=P(JSON.parse(localStorage.getItem("zine:margins")??JSON.stringify(nt.A7.margins))),g=P(localStorage.getItem("zine:markdown")??h),b=P(Number(localStorage.getItem("zine:columns")??1)),y=P(Number(localStorage.getItem("zine:column_gap")??5)),E=P(localStorage.getItem("zine:font_family")??"Courier, monospace"),z=P(Number(localStorage.getItem("zine:base_font_pt")??8)),D=P(Number(localStorage.getItem("zine:line_height")??1)),R=P(localStorage.getItem("zine:justify")??"left"),S=P(localStorage.getItem("zine:hyphens")??"auto"),$=P(localStorage.getItem("zine:print_mode")??"pages"),L=P(Number(localStorage.getItem("zine:spread_gutter")??6));const H=96/72;let ne=P(""),U=P([]),re=P([]),pe=P(),Se=P(""),G=P([]),V=P([]);async function qt(){const v=await Cs();A(Se,`Storage ${v.toFixed(1)} MB`)}let pt;async function fr(){pt&&clearTimeout(pt),pt=setTimeout(async()=>{if(!o(pe))return;await Je(),A(ne,await Ri(o(p))),await Je();const v=su({measurerEl:o(pe),pagePx:o(i),pad:o(r),columns:o(b),columnGap:o(y)});A(U,v.pages),A(G,v.heads),A(V,v.foots);const k=[];if(o(U).length){k.push([null,o(U)[0]]);for(let x=1;x<o(U).length;x+=2)k.push([o(U)[x]??null,o(U)[x+1]??null])}A(re,k),lu(o(n),o(f),o(b),o(y),o(E),o(z),o(D),o(R),o(S),o($),o(L))},60)}function Ke(v){const k=o(je),x=k?.selectionStart??o(g).length,T=k?.selectionEnd??o(g).length;A(g,o(g).slice(0,x)+v+o(g).slice(T)),Je().then(()=>{const N=x+v.length;k?.setSelectionRange(N,N),k?.focus()})}function Us(v){const k=o(je),x=k?.selectionStart??o(g).length,T=k?.selectionEnd??o(g).length,N=o(g).slice(x,T)||"",M=o(g).slice(0,x),Y=o(g).slice(T),W=`

<div class="${v}">
${N}
</div>

`;A(g,M+W+Y),Je().then(()=>{const ie=(M+W).length;k?.setSelectionRange(ie,ie),k?.focus()})}function Gs(v){const k=o(je),x=k?.selectionStart??o(g).length,T=k?.selectionEnd??o(g).length,N=o(g).slice(x,T)||"",M=o(g).slice(0,x),Y=o(g).slice(T),W=`

<div class="cols" style="column-count:${v};">
${N}
</div>

`;A(g,M+W+Y),Je().then(()=>{const ie=(M+W).length;k?.setSelectionRange(ie,ie),k?.focus()})}const Ws=()=>Ke(`

[[pagebreak]]

`),Qs=()=>Ke(`

[[colbreak]]

`),Vs=()=>Ke(`

[[head: Your Heading]]

`),Ys=()=>Ke(`

[[foot: Your Footer]]

`);async function gn(v,k=!1){const{key:x,file:T}=await go(v);Ke(k?`

[[pagebreak]]
<img src="appimg://${x}" alt="${T.name}" class="img-page" />
[[pagebreak]]
`:`

![${T.name}](appimg://${x})

`),await _o(o(g)).catch(()=>{}),await qt()}let vn=0;async function _n(v){for(;vn>=1;)await new Promise(k=>setTimeout(k,30));vn++;try{return await v()}finally{vn--}}function Xs(v){v.preventDefault(),Array.from(v.dataTransfer.files||[]).filter(x=>x.type.startsWith("image/")).reduce((x,T)=>x.then(()=>_n(()=>gn(T,!1))),Promise.resolve())}const Ks=v=>v.preventDefault();function Js(v){const x=Array.from(v.clipboardData?.items||[]).find(T=>T.type.startsWith("image/"));x&&(v.preventDefault(),_n(()=>gn(x.getAsFile(),!1)))}async function pr(v,k){const x=Array.from(v.target.files||[]);for(const T of x)await _n(()=>gn(T,k));v.target.value=""}const el=()=>{document.title=o(d),window.print()};let je=P();$s(async()=>{o(je)?.focus(),A(ne,await Ri(o(p))),await fr(),await qt()}),Xa(mo);let Be=P(Number(localStorage.getItem("zine:left_percent")??48)),mn=!1,hr=0,dr=o(Be);function tl(v){mn=!0,hr=v.clientX,dr=o(Be),window.addEventListener("mousemove",gr),window.addEventListener("mouseup",vr)}function gr(v){if(!mn)return;const k=document.querySelector(".workspace")?.clientWidth||1,T=(v.clientX-hr)/k*100;A(Be,Math.max(20,Math.min(80,Math.round((dr+T)*10)/10)))}function vr(){mn=!1,window.removeEventListener("mousemove",gr),window.removeEventListener("mouseup",vr)}function nl(v,k){const x=v.lastIndexOf(`

`,Math.max(0,k-1)),T=v.indexOf(`

`,k),N=x>=0?x+2:0,M=T>=0?T:v.length;return[N,M]}function _r(v){const k=o(je),x=k?.selectionStart??o(g).length,T=k?.selectionEnd??o(g).length;let N=x,M=T;N===M&&([N,M]=nl(o(g),N));let Y=o(g).slice(0,N),W=o(g).slice(N,M),ie=o(g).slice(M);const _e=/^<span style="font-size:([\d.]+)em">([\s\S]*)<\/span>$/,oe=W.match(_e);if(oe){let se=parseFloat(oe[1]);const Pe=oe[2];W=`<span style="font-size:${Math.max(.5,Math.min(4,se+v))}em">${Pe}</span>`}else W=`<span style="font-size:${1+v}em">${W}</span>`;A(g,Y+W+ie),Je().then(()=>{const se=(Y+W).length;k?.setSelectionRange(se,se),k?.focus()})}const rl=()=>_r(-.1),il=()=>_r(.1);B(()=>o(d),()=>{localStorage.setItem("zine:title",o(d))}),B(()=>o(_),()=>{localStorage.setItem("zine:page_size",o(_))}),B(()=>o(f),()=>{localStorage.setItem("zine:margins",JSON.stringify(o(f)))}),B(()=>o(g),()=>{localStorage.setItem("zine:markdown",o(g))}),B(()=>o(b),()=>{localStorage.setItem("zine:columns",String(o(b)))}),B(()=>o(y),()=>{localStorage.setItem("zine:column_gap",String(o(y)))}),B(()=>o(E),()=>{localStorage.setItem("zine:font_family",o(E))}),B(()=>o(z),()=>{localStorage.setItem("zine:base_font_pt",String(o(z)))}),B(()=>o(D),()=>{localStorage.setItem("zine:line_height",String(o(D)))}),B(()=>o(R),()=>{localStorage.setItem("zine:justify",o(R))}),B(()=>o(S),()=>{localStorage.setItem("zine:hyphens",o(S))}),B(()=>o($),()=>{localStorage.setItem("zine:print_mode",o($))}),B(()=>o(L),()=>{localStorage.setItem("zine:spread_gutter",String(o(L)))}),B(()=>o(_),()=>{A(n,nt[o(_)]??nt.A7)}),B(()=>(o(n),Ee),()=>{A(i,{w:Math.round(o(n).w*Ee),h:Math.round(o(n).h*Ee)})}),B(()=>(o(f),Ee),()=>{A(r,{top:Math.round(o(f).top*Ee),right:Math.round(o(f).right*Ee),bottom:Math.round(o(f).bottom*Ee),left:Math.round(o(f).left*Ee)})}),B(()=>o(z),()=>{A(s,Math.round(o(z)*H*100)/100)}),B(()=>(o(E),o(s),o(D),o(R),o(S)),()=>{A(l,`
    font-family:${o(E)};
    font-size:${o(s)}px;
    line-height:${o(D)};
    text-align:${o(R)==="justify"?"justify":"left"};
    hyphens:${o(S)};
  `)}),B(()=>(o(i),o(f)),()=>{A(a,`width:${o(i).w}px;height:${o(i).h}px;--margin-bottom:${o(f).bottom}`)}),B(()=>(o(r),o(b),o(y),o(l)),()=>{A(u,`
    padding:${o(r).top}px ${o(r).right}px ${o(r).bottom}px ${o(r).left}px;
    --pad-top:${o(r).top}px; --pad-right:${o(r).right}px; --pad-bottom:${o(r).bottom}px; --pad-left:${o(r).left}px;
    column-count:${o(b)}; column-gap:${o(y)}mm;
    ${o(l)}
  `)}),B(()=>(o(i),o(r),o(l)),()=>{A(c,`
    position:absolute; left:-99999px; top:0; opacity:0; pointer-events:none;
    width:${o(i).w-(o(r).left+o(r).right)}px;
    ${o(l)}
  `)}),B(()=>o(g),()=>{A(p,nu(o(g)))}),B(()=>(o(p),o(i),o(b),o(y),o(r),o(s),o(D),o(R),o(S),o(E),o($),o(L),o(n)),()=>{o(p),o(i).h,o(i).w,o(b),o(y),o(r).top,o(r).right,o(r).bottom,o(r).left,o(s),o(D),o(R),o(S),o(E),o($),o(L),o(n).id,fr()}),B(()=>o(Be),()=>{localStorage.setItem("zine:left_percent",String(o(Be)))}),Ra(),Ya();var mr=hu(),br=An(mr),kr=w(br),wr=w(kr),sl=m(w(wr)),xr=m(wr,2),yr=m(w(xr));ge(()=>{o(_),gt(()=>{})}),_t(yr,5,()=>(ks(nt),F(()=>Object.values(nt))),vt,(v,k)=>{var x=au(),T=w(x),N={};ge(()=>{he(T,(o(k),F(()=>o(k).label))),N!==(N=(o(k),F(()=>o(k).id)))&&(x.value=(x.__value=(o(k),F(()=>o(k).id)))??"")}),$e(v,x)});var ll=m(xr,2),Sr=m(kr,2),$r=w(Sr),al=m(w($r)),Er=m($r,2),ol=m(w(Er)),Ar=m(Er,2),ul=m(w(Ar)),cl=m(Ar,2),fl=m(w(cl)),Tr=m(Sr,2),Rr=w(Tr),pl=m(w(Rr)),hl=m(Rr,2),dl=m(w(hl)),zr=m(Tr,2),Ir=w(zr),Cr=m(w(Ir));ge(()=>{o(E),gt(()=>{})});var bn=w(Cr);bn.value=bn.__value="Georgia, Times New Roman, serif";var kn=m(bn);kn.value=kn.__value="Helvetica, Arial, sans-serif";var Pr=m(kn);Pr.value=Pr.__value="Courier, monospace";var Lr=m(Ir,2),gl=m(w(Lr)),Nr=m(Lr,2),vl=m(w(Nr)),Mr=m(Nr,2),qr=m(Mr,2),Or=m(qr,2),Dr=w(Or);ge(()=>{o(R),gt(()=>{})});var wn=w(Dr);wn.value=wn.__value="left";var jr=m(wn);jr.value=jr.__value="justify";var _l=m(Or,2),Br=w(_l);ge(()=>{o(S),gt(()=>{})});var xn=w(Br);xn.value=xn.__value="none";var Fr=m(xn);Fr.value=Fr.__value="auto";var Hr=m(zr,2),Zr=w(Hr),Ur=m(w(Zr));ge(()=>{o($),gt(()=>{})});var yn=w(Ur);yn.value=yn.__value="pages";var Gr=m(yn);Gr.value=Gr.__value="spreads";var ml=m(Zr,2);{var bl=v=>{var k=ou(),x=m(w(k));de(x,()=>o(L),T=>A(L,T)),$e(v,k)};yi(ml,v=>{o($)==="spreads"&&v(bl)})}var kl=m(Hr,2),Wr=w(kl),Qr=m(Wr,2),Vr=m(Qr,2),Yr=m(Vr,2),Xr=m(Yr,2),Kr=m(Xr,2),Jr=m(Kr,2),ei=m(Jr,2);_t(ei,1,()=>(o(b),F(()=>Array(o(b)))),vt,(v,k,x)=>{var T=uu();T.textContent=`${x+1} col`,Q("click",T,()=>Gs(x+1)),$e(v,T)});var ti=m(ei,2),ni=m(ti,2),wl=m(ni,2),ri=m(br,2),Ot=w(ri),xl=w(Ot),ii=w(xl),yl=m(w(ii),2),Sl=w(yl),Dt=m(ii,2);Ei(Dt,v=>A(je,v),()=>o(je));var $l=m(Dt,2),El=w($l),si=m(Ot,2),Al=m(si,2),jt=w(Al),Tl=w(jt);mt(Tl,()=>o(ne)),Ei(jt,v=>A(pe,v),()=>o(pe));var li=m(jt,2);_t(li,5,()=>o(U),vt,(v,k,x)=>{var T=cu(),N=w(T),M=w(N),Y=m(N,2);let W;var ie=w(Y);mt(ie,()=>o(k));var _e=m(Y,2),oe=w(_e),se=m(_e,2);tt(se,1,`page-number ${x%2===0?"rig":"lef"}`),se.textContent=x+1,ge(Pe=>{Ht(T,o(a)),he(M,(o(G),F(()=>o(G)[x]||""))),W=tt(Y,1,"page-inner preview",null,W,Pe),Ht(Y,o(u)),he(oe,(o(V),F(()=>o(V)[x]||"")))},[()=>({fullpage:o(k).includes("img-page")})]),$e(v,T)});var Rl=m(li,2),zl=w(Rl);{var Il=v=>{var k=xi(),x=An(k);_t(x,1,()=>o(U),vt,(T,N,M)=>{var Y=fu(),W=w(Y),ie=w(W),_e=m(W,2);let oe;var se=w(_e);mt(se,()=>o(N));var Pe=m(_e,2),ht=w(Pe),Bt=m(Pe,2);tt(Bt,1,`print-page-number ${M%2===0?"rig":"lef"}`),Bt.textContent=M+1,ge(Sn=>{he(ie,(o(G),F(()=>o(G)[M]||""))),oe=tt(_e,1,"print-inner",null,oe,Sn),he(ht,(o(V),F(()=>o(V)[M]||"")))},[()=>({fullpage:o(N).includes("img-page")})]),$e(T,Y)}),$e(v,k)},Cl=v=>{var k=xi(),x=An(k);_t(x,1,()=>o(re),vt,(T,N,M)=>{var Y=pu(),W=w(Y),ie=w(W),_e=w(ie),oe=m(ie,2);let se;var Pe=w(oe);mt(Pe,()=>(o(N),F(()=>o(N)[0]||"")));var ht=m(oe,2),Bt=w(ht),Sn=m(ht,2);Sn.textContent=2*M+1;var Pl=m(W,4),ai=w(Pl),Ll=w(ai),$n=m(ai,2);let oi;var Nl=w($n);mt(Nl,()=>(o(N),F(()=>o(N)[1]||"")));var ui=m($n,2),Ml=w(ui),ql=m(ui,2);ql.textContent=2*M+2,ge((Ol,Dl)=>{he(_e,(o(G),F(()=>M===0?"":o(G)[2*M-1]||""))),se=tt(oe,1,"print-inner",null,se,Ol),he(Bt,(o(V),F(()=>M===0?"":o(V)[2*M-1]||""))),he(Ll,(o(G),F(()=>o(G)[2*M]||M===0&&o(G)[0]||""))),oi=tt($n,1,"print-inner",null,oi,Dl),he(Ml,(o(V),F(()=>o(V)[2*M]||M===0&&o(V)[0]||"")))},[()=>({fullpage:(o(N)[0]||"").includes("img-page")}),()=>({fullpage:(o(N)[1]||"").includes("img-page")})]),$e(T,Y)}),$e(v,k)};yi(zl,v=>{o($)==="pages"?v(Il):v(Cl,!1)})}ge(()=>{Ht(ri,`grid-template-columns:${o(Be)}% 8px ${100-o(Be)}%`),he(Sl,`${o(U),F(()=>o(U).length)??""} pages · ${o(b)??""} col`),he(El,o(Se)),Ht(jt,o(c))}),de(sl,()=>o(d),v=>A(d,v)),bt(yr,()=>o(_),v=>A(_,v)),Q("click",ll,()=>{A(f,{...nt[o(_)].margins})}),de(al,()=>o(f).top,v=>Ft(f,o(f).top=v)),de(ol,()=>o(f).right,v=>Ft(f,o(f).right=v)),de(ul,()=>o(f).bottom,v=>Ft(f,o(f).bottom=v)),de(fl,()=>o(f).left,v=>Ft(f,o(f).left=v)),de(pl,()=>o(b),v=>A(b,v)),de(dl,()=>o(y),v=>A(y,v)),bt(Cr,()=>o(E),v=>A(E,v)),de(gl,()=>o(z),v=>A(z,v)),de(vl,()=>o(D),v=>A(D,v)),Q("click",Mr,rl),Q("click",qr,il),bt(Dr,()=>o(R),v=>A(R,v)),bt(Br,()=>o(S),v=>A(S,v)),bt(Ur,()=>o($),v=>A($,v)),Q("click",Wr,Vs),Q("click",Qr,Ys),Q("change",Vr,v=>pr(v,!1)),Q("change",Yr,v=>pr(v,!0)),Q("click",Xr,()=>document.getElementById("image_input").click()),Q("click",Kr,()=>document.getElementById("image_input_full").click()),Q("click",Jr,()=>Us("span-all")),Q("click",ti,Qs),Q("click",ni,Ws),Q("click",wl,el),de(Dt,()=>o(g),v=>A(g,v)),Q("paste",Dt,Js),Q("dragover",Ot,Va(Ks)),Q("drop",Ot,Xs),Q("mousedown",si,tl),$e(e,mr),Hi()}Ba(du,{target:document.getElementById("app")});
